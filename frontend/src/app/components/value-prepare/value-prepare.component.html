<h2>{{ 'ROUTES./prepare' | translate }}</h2>

@if (hasErrors && !isRunning) {
  <div class="error-msg">
    <span class="fa fa-exclamation-circle"></span>
    <span>
      {{ 'ERROR.' + errorValue?.errorCode | translate }} {{ errorValue?.relatedId }}
      {{ isNotFoundError ? ('ERROR.NOT_FOUND' | translate) : '' }}</span
      >
      @if (!errorValue) {
        <span>{{ 'ERROR.GENERIC' | translate }}</span>
      }
    </div>
  }
  @if (!hasErrors && !isRunning) {
    <div>
      {{ 'NUMBER_OF_VALIDATION' | translate }}: {{ countOfVotingCards }}
    </div>
  }
  @if (!!postSignatureValidationResult) {
    <div
      [class.warn-msg]="!postSignatureValidationSuccess"
      [class.success-msg]="postSignatureValidationSuccess">
      <p>{{ 'POST_SIGNATURE_VALIDATION_RESULT.' + postSignatureValidationResult.code | translate }}</p>
      @if (postSignatureValidationResult.message) {
        <p><i>{{ postSignatureValidationResult.message }}</i></p>
      }
    </div>
  }
  @if (isRunning) {
    <span><app-spinner></app-spinner></span>
  }
  <br />
  <div>
    @if (!hasErrors && !isRunning) {
      <button class="abra-button-primary" [routerLink]="['/voting-cards-configuration']">
        {{ 'NEXT_TO_VOTING_CARDS_CONFIGURATION' | translate }}
      </button>
    }
    @if ((hasErrors || !postSignatureValidationSuccess) && !isRunning) {
      <button class="abra-button-secondary" [routerLink]="['/welcome']">
        {{ 'BACK_TO_FILE_SELECTION' | translate }}
      </button>
    }
  </div>
